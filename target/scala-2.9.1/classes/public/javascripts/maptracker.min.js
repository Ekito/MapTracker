var module$maptracker={};function addKMLLayer$$module$maptracker(aMap,aKMLPath){var layer=new OpenLayers.Layer.Vector(aKMLPath,{strategies:[new OpenLayers.Strategy.Fixed],protocol:new OpenLayers.Protocol.HTTP({url:"/assets/kml/"+aKMLPath,format:new OpenLayers.Format.KML({extractAttributes:true,maxDepth:2})})});aMap.addLayer(layer);return layer}
function moveMaker$$module$maptracker(aMap,aMarker,aLon,aLat){var newLonLat=(new OpenLayers.LonLat(aLon,aLat)).transform(new OpenLayers.Projection("EPSG:4326"),aMap.getProjectionObject());if(aMarker==null)aMarker=createMarker$$module$maptracker(aMap,newLonLat);else{var newPx=aMap.getLayerPxFromLonLat(newLonLat);aMarker.moveTo(newPx)}return aMarker}
function createMarker$$module$maptracker(aMap,aLonLat){var size=new OpenLayers.Size(32,37);var offset=new OpenLayers.Pixel(-(size.w/2),-size.h);var icon=new OpenLayers.Icon("/assets/images/map-marker.png",size,offset);var marker=new OpenLayers.Marker(aLonLat,icon);marker.map=aMap;aMap.getLayer("Markers").addMarker(marker);return marker}
function initMap$$module$maptracker(){var map=new OpenLayers.Map("map",{numZoomLevels:19});var gsat=new OpenLayers.Layer.Google("Google Satellite",{type:google.maps.MapTypeId.SATELLITE});map.addLayer(gsat);addKMLLayer$$module$maptracker(map,"bdx_buildingshape.kml");addKMLLayer$$module$maptracker(map,"bdx_emergencyroadshape.kml");addKMLLayer$$module$maptracker(map,"bdx_periphroadshape.kml");addKMLLayer$$module$maptracker(map,"bdx_rwyshape.kml");addKMLLayer$$module$maptracker(map,"bdx_servroadshape.kml");
addKMLLayer$$module$maptracker(map,"bdx_standshape.kml");var markers=new OpenLayers.Layer.Markers("Markers");markers.id="Markers";map.addLayer(markers);map.setCenter((new OpenLayers.LonLat(-0.712,44.83)).transform(new OpenLayers.Projection("EPSG:4326"),map.getProjectionObject()),14);$.each(map.layers,function(index,value){$("#layersForm").append('<label class="checkbox"><input type="checkbox" value="'+index+'" checked> '+value.name+"</label>")});$("#layersForm input:checkbox").change(function(){var target=
$(this);map.layers[target.prop("value")].setVisibility(target.prop("checked"))});return map}if(module$maptracker.module$exports)module$maptracker=module$maptracker.module$exports;